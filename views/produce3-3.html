<!DOCTYPE html>
<html>
    <head>
        <!-- 유디터 - 스무고개형-->
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- Bootstrap CSS -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.rtl.min.css"
            integrity="sha384-7mQhpDl5nRA5nY9lr8F1st2NbIly/8WqhjTp+0oFxEA/QUuvlbF6M1KXezGBh3Nb"
            crossorigin="anonymous"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />

        <title>UDAUM EDU PRODUCE</title>
        <link rel="stylesheet" href="style.css" />

        <link rel="stylesheet" href="style.css" />
        <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet" />

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>

    <body style="background-color: #fafafa;">
        <!-- 알림 드롭바-->
        

        <nav
            class="navbar navbar-expand-lg nav-distance"
            style="background-color: #fafafa; padding-bottom: 25px;"
        >
            <div class="container-fluid" style="padding-left: 0px; padding-right: 0px;">
                <div class="navbar-logo">
                    <img src="img/logo3.png" style="width: 46px; height: 46px;" />
                </div>

                <div class="navbar-logo_udaum">
                    <img src="img/logo_udaum3.png" style="width: 85px; height: 15px;" />
                </div>

                <!-- 홈으로 돌아가기 버튼
                <a class="navbar-brand" href="#">Navbar</a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNav"
                    aria-controls="navbarNav"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
-->

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav" style="padding-left: 25px;">
                        <li class="nav-item1" style="height: 50px;">
                            <a
                                class="nav-link"
                                href="/"
                                style="
                                    width: 28px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    line-height: 46px;
                                "
                                >홈</a
                            >
                            <img
                                class="imgbar"
                                src="img/bar1.png"
                                style="width: 28px; height: 5px;"
                            />
                        </li>
                        <li class="nav-item2" style="height: 50px;">
                            <a
                                class="nav-link"
                                href="produce1.html"
                                style="padding-left: 0px; padding-right: 0px; line-height: 46px;"
                                >콘텐츠 제작하기</a
                            >
                            <img
                                class="imgbar"
                                src="img/bar1.png"
                                style="width: 28px; height: 5px;"
                            />
                        </li>
                    </ul>
                </div>

                <!--네비게이션 우측-->
                <div class="navbar-login">
                    <button type="button" id="profile_btn" onclick="#" style="padding-left: 31px;">
                        <img src="img/profile.png" style="width: 37px; height: 37px;" />
                    </button>
                </div>
            </div>
        </nav>


        <nav class="navbar navbar-expand-lg nav-distance" style="background-color: fafafa;">
            <div class="container-fluid" style="padding-left: 0px; padding-right: 0px;">
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav" style="padding-left: 46px; padding-top: 50px;">
                        <li class="produce-nav-item1" style="height: 50px; width: 93px;">
                            <a
                                class="produce-nav-link"
                                href="/makeContents1"
                                style="
                                    width: 28px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    line-height: 46px;
                                "
                                >STEP1</a
                            >
                            <img
                                class="imgbar2"
                                src="img/make_bar1.png"
                                style="width: 45px; height: 5px;"
                            />
                        </li>
                        <li class="produce-nav-item2" style="height: 50px;">
                            <a
                                class="produce-nav-link"
                                href="/makeContents2"
                                style="padding-left: 0px; padding-right: 0px; line-height: 46px;"
                                >STEP2</a
                            >
                            <img
                                class="imgbar2"
                                src="img/make_bar1.png"
                                style="width: 45px; height: 5px;"
                            />
                        </li>

                        <li class="produce-nav-item3" style="height: 50px;">
                            <a
                                class="produce-nav-link"
                                href="/makeContents3"
                                style="
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    line-height: 46px;
                                    color: #0606c6;
                                "
                                >STEP3</a
                            >
                            <img
                                class="imgbar2"
                                src="img/make_bar1.png"
                                style="width: 45px; height: 5px; display: block;"
                            />
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="produce_main_writing">
            문제 입력하기
        </div>

        <div class="produce_serve_writing">
            문제와 보기, 답안을 입력해 보세요
        </div>

        <div class="problem">
            <div class="problem_list3">
                <span class="problem_list_num3"> 
                    스무고개<br>&nbsp;&nbsp; 힌트 </span>
            </div>

            <div class="problem_contents3">
                <div class="search3">
                    <input
                        type="text"
                        placeholder="스무고개 정답을 입력하세요 (공백 포함 20자 이내)"
                        id="ans"
                        onchange="changeAns()"
                    />
                </div>
                <img class="ex1" src="img/ex1.png" onclick = "window.open('img/1040.png','수수깨끼형','width=430,height=500')"/>
                <br />

                <img class="produce3_3_intro" src="img/produce3_3_intro.png" />

                <div class="problem_contents3_background">
                    
                    
                    <!--키워드 입력-->

                    <div class="problem_contents3_option">
                        1
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option1"
                            onchange = "changeHint(0)"
                        />
                    </div>
                    
                    
                      <div class="problem_contents3_option">
                        2
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option2"
                            onchange = "changeHint(1)"
                        />
                    </div>
                    
                    
                      <div class="problem_contents3_option">
                        3
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option3"
                            onchange = "changeHint(2)"
                        />
                    </div>
                    
                    
                      <div class="problem_contents3_option">
                        4
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option4"
                            onchange = "changeHint(3)"
                        />
                    </div>
                    
                    
                      <div class="problem_contents3_option">
                        5
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option5"
                            onchange = "changeHint(4)"
                        />
                    </div>
                    
                    
                      <div class="problem_contents3_option">
                        6
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option6"
                            onchange = "changeHint(5)"
                        />
                    </div>
                    
                    
                      <div class="problem_contents3_option">
                        7
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option7"
                            onchange = "changeHint(6)"
                        />
                    </div>
                    
                    
                      <div class="problem_contents3_option">
                        8
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option8"
                            onchange = "changeHint(7)"
                        />
                    </div>
                    
                    
                      <div class="problem_contents3_option">
                        9
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option9"
                            onchange = "changeHint(8)"
                        />
                    </div>
                    
                    
                      <div class="problem_contents3_option" style="
    padding-left: 18px;">
                        10
                          <img class="produce3_3_bar" src="img/produce3_3_bar.png" />
                        <input
                            type="text"
                            placeholder="힌트를 입력하세요"
                            style="border: none; vertical-align: bottom;"
                            id = "option10"
                            onchange = "changeHint(9)"
                        />
                    </div>
                    
                    
                </div>
            </div>
        </div>
        
        
        
        

        <!--이전/다음 버튼-->

        <div class="produce_next" style="text-align: right;">
            <button type="button" id="back_btn" onclick="location.href='/makeContents2'">
                <img src="img/back_btn.png" style="margin-top: 0px; width: 119px; height: 48px;" />
            </button>

            <button type="button" id="ok_btn">
                <img
                    src="img/ok_btn.png"
                    style="margin-top: 0px; margin-right: 290px; width: 119px; height: 48px;"
                />
            </button>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
        <script>
            var answer = '-'
            var hint = []
            localStorage.setItem('quizAns' , '-')
            //앞의 페이지들과 동일하게 quizAns , Hint 들을 로컬스토리지에 '-' 로 저장
            for(i = 0; i < 10; i++){
                hint.push('-')
                localStorage.setItem(`Hint_${i}` , '-')
            } 

            function changeAns(){
                answer = document.getElementById('ans').value
                localStorage.setItem('quizAns' , answer)
            }
            // ans가 값이 입력되면 로컬스토리지 값을 바꾼다
            function changeHint(hintIdx){
                hint[`${hintIdx}`] = document.getElementById(`option${hintIdx + 1}`).value
                localStorage.setItem(`Hint_${hintIdx}` , hint[`${hintIdx}`])
            }
            // hint 의 값도 동일
            function checkContents(){
                if(localStorage.getItem('quizAns') == '-') return false
                for(j = 0; j < 10; j++){
                    if (localStorage.getItem(`Hint_${j}`) == '-') return false
                }
                // 앞과 동일하게 입력이 완료되지 않으면 false 를 반환하는 함수
                return true
            }

            $('#ok_btn').click(function () {
                // 퀴즈 정보를 다 입력하면 /makeContents3_1 페이지로 post 요청하는 코드입니다
                if(checkContents() == false){
                    alert('❌컨텐츠를 입력해주세요!❌')
                    //콘텐츠 입력이 완료되지 않으면 false 가 반환되어 alert
                    // 이 외에는 post 요청
                }
                else{
                    $.ajax({
                        url: '/makeContents3_3',
                        type: 'post',
                        data: {
                            id: localStorage.getItem("loginId"),
                            ansVal: `${answer}`,
                            hintArr: `${hint}`,
                            contentsType: 3
                        },
                        dataType: 'JSON'
                    
                        })
                        alert('😀컨텐츠 저장이 완료되었습니다')
                        location.href = '/'
                    }
                }
            )
        </script>
    </body>
</html>